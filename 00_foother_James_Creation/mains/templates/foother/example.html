{% extends 'base.html' %}

{% block content %}

<div id="map" style="width:100%;height:350px;"></div>
<div id="search"></div>

{% comment %} <form action="" method="GET"> {% endcomment %}
  <input type="text" id="addressSearch">
  <button id="searchBtn" onclick="change()">제출</button>
{% comment %} </form> {% endcomment %}

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
const searchBtn = document.querySelector('#searchBtn')

function change(){
  var addressSearch = document.querySelector('#addressSearch').value
  return addressSearch
}

searchBtn.addEventListener('click', function(event){
  var addressSearch = change()
  var url = 'https://dapi.kakao.com/v2/local/search/keyword.json?y=37.514322572335935&x=127.06283102249932&radius=20000'
  console.log(addressSearch);
  var params = {
                'query': addressSearch,
              }
  var headers = {'Authorization': 'KakaoAK 1eb82a611b357dbfc3eb3e227b6ec2d3'}
  
  axios({
    method: 'get',
    url: url,
    headers: headers,
    params: params,
    
  })
    .then(res => {
      console.log(res.data)
    });
});

</script>


{% endblock  %}